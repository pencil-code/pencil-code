[tox]
env_list =
    py3.10
    py3.11
    py3.12
    py3.13
    py3.14
    with_mpi4py
    full

[testenv]
deps =
    numpy
    matplotlib
    h5py
    dill
    scipy
    pexpect
    pytest
    decorator
    lazy-loader
    pytest-cov

commands = pytest -m "not integration" {posargs}

depends = clean

[testenv:with_mpi4py]
deps =
    numpy
    matplotlib
    h5py
    dill
    scipy
    pexpect
    pytest
    mpi4py
    decorator
    lazy-loader
    pytest-cov

[testenv:full]
commands = pytest {posargs}
